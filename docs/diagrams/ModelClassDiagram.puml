@startuml
!include style.puml

$OverrideTheme(MODEL_COLOR)

package Model {
    class "<<interface>>\nReadOnlyIBook" as ReadOnlyIBook
    class "<<interface>>\nModel" as Model
    class "<<interface>>\nReadOnlyUserPrefs" as ReadOnlyUserPrefs
    class "{abstract}\nAttributeFilter" as AttributeFilter

    class IBook
    class ModelManager
    class UserPrefs

    class UniqueProductList
    class ProductFilter
    class Product
}

class HiddenOutside <<Hidden>>
HiddenOutside ..> Model

IBook .up.|> ReadOnlyIBook
ModelManager .up.|> Model
UserPrefs .up.|> ReadOnlyUserPrefs

Model .left.> ReadOnlyIBook
Model .right.> ReadOnlyUserPrefs
ModelManager -left-> "1" IBook
ModelManager -right-> "1" UserPrefs

IBook *--> "1" UniqueProductList
UniqueProductList -right-> "~* all" Product

ModelManager --> "1" ProductFilter
ProductFilter *-> "*" AttributeFilter

ModelManager --->"~* filtered" Product
@enduml
